<!DOCTYPE HTML>
<html ng-app="EbaseApp">
    <head>
        <title>Simple Ebase</title>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <script type="text/javascript" src="app/lib/jquery.min.js"></script>
        <script type="text/javascript" src="app/lib/jquery.liveaddress.js"></script>
        <script src="app/lib/angular.min.js"></script>
        <!--
        <script type="text/javascript">
            var liveaddress = jQuery.LiveAddress({
                key: "25739744617047893",
                debug: true,
                target: "US",
                address: [{
                    address1: '#street',
                    address2: '#apt',
                    locality: '#city',
                    administrative_area: '#state',
                    postal_code: '#zip',
                    country: '#country'
                }],
                waitForStreet: true
            });
        </script>
        -->
        <script src="app/lib/jquery.liveaddress.init.js"></script>
        <script src="app/app.js"></script>
    </head>
    <body>
        <h2>Please fill the form here</h2>
        <div ng-controller="FormController">
            <!-- TODO: requirement according to API Gateway -->
            <header>
                <h3>Basic</h3>
            </header>
            <table>
                <tr>
                    <td>Firstname</td>
                    <td><input type="text" placeholder="John" name="firstname" ng-model="caform.firstname" required /></td>
                </tr>
                <tr>
                    <td>Lastname</td> 
                    <td><input type="text"placeholder="Smith" name="lastname" ng-model="caform.lastname" required /></td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td><input type="text" placeholder="js@gmail.com" name="email" ng-model="caform.email" ng-minlength=3 required /></td>
                </tr>
                <tr>
                    <td>Phone</td>
                    <td><input type="text" placeholder="1234567890" name="phone" ng-model="caform.phone" ng-minlength=3 ng-maxlength=10 required /></td>
                </tr>
            </table>
        <form>
            <header>
                <h3>Address</h3>
            </header>
            <table>
                <tr>
                    <td>Line 1</td> 
                    <td><input type="text" id="street"
                        placeholder="400 Broadway" name="street" ng-model="caform.street" ng-minlength=3 ng-maxlength=20 required /></td>
                </tr>
                <tr>
                    <td>Line 2</td> 
                    <td><input type="text" id="apt"
                        placeholder="apt 44" name="apt" ng-model="caform.number" ng-maxlength=20 required /></td>
                </tr>
                <tr>
                    <td>City</td> 
                    <td><input type="text" id="city"
                        placeholder="New York" name="city" ng-model="caform.city" ng-minlength=3 ng-maxlength=20 required /></td>
                </tr>
                <tr>
                    <td>State</td> 
                    <td><input type="text" id="state"
                        placeholder="NY" name="state" /></td>
                </tr>
                <tr>
                    <td>Zip</td> 
                    <td><input type="text" id="ZIP"
                        placeholder="10027" name="ZIP" ng-model="caform.zip" ng-minlength=3 ng-maxlength=20 required /></td>
                </tr>
            </table>
        </form>

            <h2> {{caform.firstname}} {{caform.lastname}}</h2>
            <h2> {{flag}}</h2>
            <h2> response: {{response}} </h2>
            <button type="submit" ng-disabled="loading" ng-click="post(caform)">
                Submit
            </button>
            <button type="submit" ng-disabled="loading" ng-click="put(caform)">
                Update
            </button>
            <button type="submit" ng-disabled="loading" ng-click="del(caform)">
                Delete
            </button>
            <button type="submit" ng-disabled="loading" ng-click="get(caform)">
                Get
            </button>
            <table>
                <th> Submitted Info </th>
                <tr> <td>Method</td> <td>{{getFlag(flag)}}</td> </tr>
                <tr> <td>Status</td> <td>{{isSucceed(succeed)}}</td> </tr>
                <tr> <td>Firstname <td>{{cust.firstname}}</td> </tr>
                <tr> <td>Lastname <td>{{cust.lastname}}</td> </tr>
                <tr> <td>Email <td>{{cust.email}}</td> </tr>
                <tr> <td>Phone <td>{{cust.phone}}</td> </tr>
                <tr> <td>Line1 <td>{{addr.street}}</td> </tr>
                <tr> <td>Number <td>{{addr.number}}</td> </tr>
                <tr> <td>City <td>{{addr.city}}</td> </tr>
                <tr> <td>Zip <td>{{addr.zip}}</td> </tr>
            </table>
        </div>
    </body>
</html>
